# AmDb 桌面版数据库管理器

## 概述

AmDb提供了类似phpMyAdmin的桌面版数据库管理器，使用Python的tkinter库实现，支持跨平台运行（Windows、macOS、Linux）。

## 功能特性

### 1. 数据浏览
- ✅ 浏览所有数据库记录
- ✅ 添加、编辑、删除记录
- ✅ 搜索功能
- ✅ 实时刷新

### 2. 查询执行
- ✅ 执行键值查询（GET key）
- ✅ 查询结果展示
- ✅ 查询历史保存/加载
- ✅ 查询性能统计

### 3. 配置管理
- ✅ 可视化编辑配置文件
- ✅ 配置验证
- ✅ 配置导入/导出
- ✅ 重置为默认配置

### 4. 性能监控
- ✅ 实时性能指标显示
- ✅ 数据库统计信息
- ✅ 自动刷新监控数据

### 5. 数据库管理
- ✅ 数据库备份
- ✅ 数据库恢复
- ✅ 数据库压缩
- ✅ 数据库优化

## 安装和启动

### 方法1：直接运行脚本

```bash
python amdb_manager.py
```

### 方法2：作为模块运行

```bash
python -m src.amdb.gui_manager
```

### 方法3：创建桌面快捷方式

**Windows:**
创建快捷方式，目标指向：
```
python.exe "C:\path\to\amdb_manager.py"
```

**macOS:**
创建应用程序包或使用Automator

**Linux:**
创建.desktop文件：
```ini
[Desktop Entry]
Name=AmDb Manager
Exec=python3 /path/to/amdb_manager.py
Icon=/path/to/icon.png
Type=Application
```

## 使用说明

### 1. 连接数据库

1. 点击"文件" -> "连接数据库"
2. 选择配置文件路径（如`./amdb.ini`）或指定数据目录
3. 点击"连接"按钮

### 2. 浏览数据

- 在"数据浏览"标签页查看所有数据
- 双击记录可以编辑
- 使用搜索框快速查找记录
- 点击"刷新"按钮更新数据

### 3. 执行查询

1. 切换到"查询执行"标签页
2. 在查询输入框中输入查询语句
3. 支持的查询格式：
   - `GET key` - 获取指定键的值
4. 点击"执行查询"按钮
5. 查看查询结果

### 4. 管理配置

1. 切换到"配置管理"标签页
2. 编辑配置文件内容
3. 点击"验证配置"检查配置是否正确
4. 点击"保存配置"保存修改

### 5. 性能监控

1. 切换到"性能监控"标签页
2. 点击"开始监控"开始实时监控
3. 查看数据库统计信息和性能指标
4. 点击"停止监控"停止监控

### 6. 数据库备份

1. 点击"工具" -> "备份数据库"
2. 选择备份文件保存位置
3. 等待备份完成

## 界面说明

### 主窗口

- **菜单栏**：文件、数据、查询、工具、帮助
- **标签页**：数据浏览、查询执行、配置管理、性能监控
- **状态栏**：显示当前连接状态和操作提示

### 数据浏览标签页

- **工具栏**：刷新、添加、编辑、删除、搜索
- **数据表格**：显示键、值、版本、时间戳
- **搜索框**：快速搜索记录

### 查询执行标签页

- **查询输入区**：输入查询语句
- **查询结果区**：显示查询结果
- **状态信息**：显示查询状态和统计

### 配置管理标签页

- **配置编辑器**：可视化编辑配置文件
- **工具栏**：加载、保存、重置、验证配置

### 性能监控标签页

- **指标显示区**：显示实时性能指标
- **工具栏**：开始/停止监控、刷新

## 快捷键

- `Ctrl+N`：新建连接
- `Ctrl+O`：打开配置
- `Ctrl+S`：保存配置
- `Ctrl+F`：搜索
- `F5`：刷新数据
- `Ctrl+Q`：退出

## 注意事项

1. **首次使用**：需要先连接数据库才能进行其他操作
2. **配置文件**：建议在修改配置前先备份
3. **大数据量**：如果数据量很大，加载可能需要一些时间
4. **性能监控**：监控会消耗一定系统资源，不需要时可以停止

## 故障排除

### 问题1：无法启动GUI

**解决方案**：
- 确保已安装Python和tkinter库
- 检查Python版本（建议3.7+）
- 在Linux上可能需要安装`python3-tk`包

### 问题2：连接数据库失败

**解决方案**：
- 检查配置文件路径是否正确
- 检查数据目录是否存在
- 查看错误信息，根据提示修复

### 问题3：界面显示异常

**解决方案**：
- 检查系统DPI设置
- 尝试调整窗口大小
- 检查tkinter主题设置

## 开发计划

未来版本将添加：

- [ ] SQL查询支持
- [ ] 数据可视化图表
- [ ] 批量操作功能
- [ ] 数据导入/导出（JSON、CSV）
- [ ] 多数据库连接管理
- [ ] 查询计划可视化
- [ ] 性能分析工具
- [ ] 数据备份/恢复向导

## 参考

- 配置文件说明：见`docs/CONFIG_GUIDE.md`
- 数据库API：见`src/amdb/database.py`
- 项目文档：见`README.md`

